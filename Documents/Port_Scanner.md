We will be looking at a script to build a simple port scanner.

The code :

    import sys
    import socket
    import pyfiglet
    
    
    ascii_banner = pyfiglet.figlet_format("Fsnake \n Python 4 Pentesters \nPort Scanner")
    print(ascii_banner)
    
    
    ip = '192.168.1.6' 
    open_ports =[] 
    
    ports = range(1, 65535)
    
    
    def probe_port(ip, port, result = 1): 
      try: 
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) 
        sock.settimeout(0.5) 
        r = sock.connect_ex((ip, port))   
        if r == 0: 
          result = r 
        sock.close() 
      except Exception as e: 
        pass 
      return result
    
    
    for port in ports: 
        sys.stdout.flush() 
        response = probe_port(ip, port) 
        if response == 0: 
            open_ports.append(port) 
        
    
    if open_ports: 
      print ("Open Ports are: ") 
      print (sorted(open_ports)) 
    else: 
      print ("Looks like no ports are open :(")

Below are the results of the port scanning script run against a random target.

    root@ip-10-10-219-252:~# python3 portscanner.py 
     _____                _         
    |  ___|__ _ __   __ _| | _____  
    | |_ / __| '_ \ / _` | |/ / _ \ 
    |  _|\__ \ | | | (_| |   <  __/ 
    |_|  |___/_| |_|\__,_|_|\_\___| 
                                    
      ____        _   _                   _  _   
     |  _ \ _   _| |_| |__   ___  _ __   | || |  
     | |_) | | | | __| '_ \ / _ \| '_ \  | || |_ 
     |  __/| |_| | |_| | | | (_) | | | | |__   _|
     |_|    \__, |\__|_| |_|\___/|_| |_|    |_|  
            |___/                                
     ____            _            _                 
    |  _ \ ___ _ __ | |_ ___  ___| |_ ___ _ __ ___  
    | |_) / _ \ '_ \| __/ _ \/ __| __/ _ \ '__/ __| 
    |  __/  __/ | | | ||  __/\__ \ ||  __/ |  \__ \ 
    |_|   \___|_| |_|\__\___||___/\__\___|_|  |___/ 
                                                    
     ____            _     ____                                  
    |  _ \ ___  _ __| |_  / ___|  ___ __ _ _ __  _ __   ___ _ __ 
    | |_) / _ \| '__| __| \___ \ / __/ _` | '_ \| '_ \ / _ \ '__|
    |  __/ (_) | |  | |_   ___) | (_| (_| | | | | | | |  __/ |   
    |_|   \___/|_|   \__| |____/ \___\__,_|_| |_|_| |_|\___|_|   
                                                                 
    
    Open Ports are: 
    [22, 80, 2100]


Of course, I will admit the ASCII art banner was a bit much. The banner will require `Pyfiglet` to be imported. You can easily install pyfiglet using the `apt install python3-pyfiglet` command.
